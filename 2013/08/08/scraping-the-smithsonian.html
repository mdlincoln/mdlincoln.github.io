<!DOCTYPE html>
<html>
    <head>
        <title>Scraping the Smithsonian - Matthew Lincoln</title>

<!-- Meta tags -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">
<meta name="author" content="Matthew Lincoln">
<meta name="keywords" content="Code,Museums,Linked Open Data,Visualization,Digital Humanities,">

<!-- RSS feed -->
<link rel="alternate" type="application/rss+xml" title="Matthew Lincoln" href="http://matthewlincoln.net/feed.xml">

<!-- syntax highlighting CSS -->
<link rel="stylesheet" href="/css/syntax.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="/css/main.css">

<!-- Fonts -->
<link href='http://fonts.googleapis.com/css?family=Ubuntu:400,400italic|Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42379158-1', 'matthewlincoln.net');
ga('send', 'pageview');

</script>

    </head>
    <body>

      <div class="container">
        <div class="site">
          <div class="header">
            <div class="title">
	<div class="maintitle"><a href="/">Matthew Lincoln</a></div>
	<div class="subtitle">Art History Ph.D student, University of Maryland</div>
</div>
<div class="image"></div>
<div class="menu">
	<a href="/">Home</a>
	<a href="/archive">Archive</a>
	<a href="/about">About</a>
	<a href="/projects">Projects</a>
</div>
          </div>
          
          <div class="content">
                <div class="ptitle">Scraping the Smithsonian</div>

<p class="meta">08 Aug 2013</p>

<div class="post">
<p>I’m proud to push one of my first real forays into digital humanities toolmaking to GitHub today: <a href="https://github.com/mdlincoln/si-scrape">si-scrape</a>, a Ruby script that scrapes data off of the Smithsonian Institution’s collection web portal <a href="http://collections.si.edu">collections.si.edu</a>.</p>

<p>It’s a quick and dirty implementation at the moment (one that will be happily outdated once the Smithsonian finishes deploying a <a href="http://en.wikipedia.org/wiki/Linked_data">Linked Open Data</a> interface!) but it could hopefully serve as a model for web-scraping other institutions whose public-facing collection websites are at least partially machine-readable.</p>

<p>All you need to run it is the URL that <a href="http://collections.si.edu">collections.si.edu</a> generates once you define a search query. For example, searching for objects of the type <code>Works of Art</code> that feature the keyword <code>"space"</code> generates this URL: </p>

<pre><code>http://collections.si.edu/search/results.htm?tag.cstype=all&amp;q=space&amp;fq=object_type:%22Works+of+art%22
</code></pre>

<p>Plug this URL into <code>si-scrape.rb</code> and it will deliver a ~50 MB HTML file that concatenates all the returned records that <a href="http://collections.si.edu">collections.si.edu</a> normally paginates over hundreds of pages. You can then further parse this HTML to pull out the desired data. The Smithsonian has done rather well with this web interface; almost all of the metadata fields for a given object have been nicely tagged in the HTML so that you can easily have the computer hunt down <code>date</code>, <code>title</code>, or <code>topic</code> classes.</p>

<p>I intend to make future versions of this script that will output a flat CSV that one can open and manipulate in Excel, making this script more accessible to the broader humanities community that doesn’t care to fumble with Ruby and <a href="http://nokogiri.org">Nokogiri</a>. Such an implementation would need to be flexible enough to accept the huge range of metadata fields that the Smithsonian’s expansive and diverse collections demand. More experienced Ruby wranglers are <a href="https://github.com/mdlincoln/si-scrape">welcome to contribute</a>!</p>

<p>I’m already using this script to do some bulk processing of the keyword schemae in the Smithsonian art collections. In a future post I’ll be talking a bit more in depth about that, but for now here is a pretty teaser of a topic co-occurrence map of the Smithsonian American Art Museum’s painting collection, all of it collected using <code>si-scrape.rb</code>:</p>

<p><img src="/assets/images-display/saam_dated_full.png" alt="" /></p>

<p><a href="/assets/images/saam_dated_full.png">Download the full ~15MB image</a></p>

<p>P.S. And yes, I got the idea for this <a href="http://www.phdcomics.com/comics.php?f=1617">while I was in the shower yesterday</a>.</p>

<p>P.P.S. And it’s gotten added in to the <a href="https://github.com/MuseCompNet/muse-tech-central">Muse-Tech-Central list</a>!</p>

</div>


<div class="comments">
<p class="meta">Tagged in: <a href="/tag/Code">Code</a>, <a href="/tag/Museums">Museums</a>, <a href="/tag/Linked Open Data">Linked Open Data</a>, <a href="/tag/Visualization">Visualization</a>, <a href="/tag/Digital Humanities">Digital Humanities</a></p>

<p class="meta">Related posts:


<a href="/2013/08/09/parsing-the-smithsonian.html">Parsing the Smithsonian</a>; 



<a href="/2013/06/20/looking-through-the-ulan-with-gephi.html">Looking through the ULAN with Gephi, I</a>; 



<a href="/2013/06/10/play-space-vs-work-place.html">Play space vs. work place</a>; 



<a href="/2013/05/22/aesthetic-provocations.html">Aesthetic Provocations</a>; 



<a href="/2013/06/07/thatcamp-prime-2013-day-1.html">THATCamp Prime 2013, day 1</a>

</p>
</div>

 
<div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'matthewlincoln'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

            </div>
            <div class="footer">
              <div class="contact">
    <p>© 2013, Matthew D. Lincoln</p>
    <p>Header image: Hendrick Goltzius, detail of "Portrait of Philip Galle", 1582, engraving, Rijksmuseum, Amsterdam (<a href="http://www.rijksmuseum.nl/">Image source</a>)</p>
    <p>Powered by <a href="http://jekyllrb.com">Jekyll</a> - <a href="http://mdlincoln.github.io/feed.xml">RSS feed</a></p>
</div>

            </div>
            
        </div> 
    </body>
</html>
